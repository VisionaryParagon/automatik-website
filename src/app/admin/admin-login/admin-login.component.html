<section [@fade]="true">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-sm-10 col-md-8">
        <h1 class="text-center">Admin Login</h1>

        <form #adminForm="ngForm" novalidate>
          <div class="inputGroup" [class.nope]="username.errors && (username.touched || submitted)">
            <label for="username">Username*</label>
            <input type="text" name="username" #username="ngModel" autocomplete="off" required [(ngModel)]="admin.username" (ngModelChange)="hideError()">
            <div class="errorMsg" [@topDown]="true" *ngIf="username.errors && (username.touched || submitted)">
              <p *ngIf="username.errors.required">Username is required</p>
            </div>
          </div>

          <div class="inputGroup" [class.nope]="password.errors && (password.touched || submitted)">
            <label for="password">Password*</label>
            <input type="password" name="password" #password="ngModel" autocomplete="off" required [(ngModel)]="admin.password" (ngModelChange)="hideError()">
            <div class="errorMsg" [@topDown]="true" *ngIf="password.errors && (password.touched || submitted)">
              <p *ngIf="password.errors.required">Password is required</p>
            </div>
          </div>

          <div class="text-center">
            <div class="errorMsg">
              <p [@topDown]="true" *ngIf="invalid">{{ err }}</p>

              <p [@topDown]="true" *ngIf="error">Something went wrong... Please make sure you have a WiFi or mobile data connection and try refreshing your&nbsp;browser.</p>
            </div>

            <p class="disclaimer">* Required field</p>

            <button class="autoBtn" [disabled]="loading" (click)="login(admin, adminForm.valid)">
              <span *ngIf="!loading">Submit</span>
              <span *ngIf="loading"><mat-spinner class="mx-auto" [diameter]="20" [strokeWidth]="3"></mat-spinner></span>
            </button>

            <button class="autoBtn d-block" (click)="cancel()">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
