<div id="intro" [@intro]="true" *ngIf="introActive">
  <div id="question" [class.active]="ready">
    <div class="introWord" id="word1" [class.active]="start">How</div>
    <div class="introWord" id="word2" [class.active]="start">are</div>
    <div class="introWord" id="word3" [class.active]="start">you</div>
    <div class="introWord" id="word4" [class.active]="start">feeling</div>
    <div class="introWord" id="word5" [class.active]="start">today</div>
    <div class="introWord" id="questionMark" [class.active]="start">?</div>
  </div>

  <div id="feelings">
    <div *ngFor="let feeling of randomFeelings; let idx = index" [class]="'feelingBox face' + (idx + 1)" [class.hovered]="interact && hovering === feeling.name" [class.selected]="selected === feeling.name" [class.unselected]="clicked && selected !== feeling.name" (mouseover)="hoverFeeling(feeling.name)" (mouseout)="hoverFeeling('')" (touchstart)="hoverFeeling(feeling.name)" (touchcancel)="hoverFeeling('')" (click)="selectFeeling(feeling)">
      <div class="circle" [class.active]="ready">
        <img src="https://assets.automatik9dots.com/images/feeling-circle.png">
      </div>
      <div class="face" [class.active]="ready">
        <img src="https://assets.automatik9dots.com/images/feeling-{{ feeling.name }}.png" alt="{{ feeling.name | titlecase }}">
      </div>
      <div class="feeling" [class.active]="interact && (hovering || selected) === feeling.name">
        {{ feeling.name | titlecase }}
      </div>
    </div>
  </div>

  <div id="feelingMessage" [class.show]="successShow" [class.hide]="successHide" [innerHTML]="success"></div>

  <button id="skipButton" [@fade]="true" *ngIf="ready && !success.length" [disabled]="loading" (click)="skipIntro()">
    <span *ngIf="!loading">Skip</span>
    <span *ngIf="loading"><mat-spinner class="mx-auto" [diameter]="20" [strokeWidth]="3"></mat-spinner></span>
  </button>
</div>

<header (mouseover)="toggleSubNav($event, 'close')">
  <nav>
    <a id="navLogo" routerLink="/" [@fade]="true" [class.introLogo]="introActive" (click)="closeNav(); closeSubNav()"><img src="https://assets.automatik9dots.com/images/automatik-navigation-logo.png" alt="automÃ¤tik logo"></a>

    <div class="fullNav" [@fade]="true" *ngIf="!introActive && !isAdmin">
      <!--
      <div class="col">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Home</a>
      </div>
      -->
      <div class="col">
        <a routerLink="/services" routerLinkActive="active" [class.hover]="stateServices === 'active'" (mouseover)="toggleSubNav($event, 'Services')" (click)="closeSubNav()">Services</a>

        <div class="fullSubNav" [@topDown]="true" *ngIf="stateServices === 'active'">
          <a routerLink="/services/event-planning" (click)="closeSubNav()">Event Planning</a>
          <a routerLink="/services/event-production" (click)="closeSubNav()">Event Production</a>
          <a routerLink="/services/instructional-design" (click)="closeSubNav()">Instructional Design</a>
          <a routerLink="/services/graphic-design" (click)="closeSubNav()">Graphic Design</a>
          <a routerLink="/services/video-production" (click)="closeSubNav()">Video Production</a>
          <a routerLink="/services/design-development" (click)="closeSubNav()">Design &amp; Development</a>
        </div>
      </div>
      <div class="col">
        <a routerLink="/courses" routerLinkActive="active" [class.hover]="stateCourses === 'active'" (mouseover)="toggleSubNav($event, 'Courses')" (click)="closeSubNav()">Courses</a>

        <div class="fullSubNav" [@topDown]="true" *ngIf="stateCourses === 'active'">
          <a routerLink="/courses/workshops" (click)="closeSubNav()">Workshops</a>
          <!--
          <a routerLink="/courses/e-learning" (click)="closeSubNav()">E-Learning</a>
          <a routerLink="/courses/e-books" (click)="closeSubNav()">E-Books</a>
          -->
          <a routerLink="/courses/custom-training" (click)="closeSubNav()">Custom Training</a>
        </div>
      </div>
      <div class="col">
        <a routerLink="/portfolio" routerLinkActive="active" (click)="closeSubNav(); setPortfolio()" (mouseover)="toggleSubNav($event, 'Portfolio')">Portfolio</a>
      </div>
      <div class="col">
        <a routerLink="/resources/blog" routerLinkActive="active" (click)="closeSubNav()" (mouseover)="toggleSubNav($event, 'Blog')">Blog</a>
      </div>
      <!--
      <div class="col">
        <a routerLink="/resources" routerLinkActive="active" [class.hover]="stateResources === 'active'" (mouseover)="toggleSubNav($event, 'Resources')" (click)="closeSubNav()">Resources</a>

        <div class="fullSubNav" [@topDown]="true" *ngIf="stateResources === 'active'">
          <a routerLink="/resources/blog" (click)="closeSubNav()">Blog</a>
          <a routerLink="/resources/podcast" (click)="closeSubNav()">Podcast</a>
          <a routerLink="/resources/videos" (click)="closeSubNav()">Videos</a>
          <a routerLink="/resources/printables" (click)="closeSubNav()">Printables</a>
        </div>
      </div>
      -->
      <div class="col">
        <a routerLink="/about" routerLinkActive="active" [class.hover]="stateAbout === 'active'" (mouseover)="toggleSubNav($event, 'About')" (click)="closeSubNav()">About</a>

        <div class="fullSubNav" [@topDown]="true" *ngIf="stateAbout === 'active'">
          <a routerLink="/about/history" (click)="closeSubNav()">History</a>
          <a routerLink="/about/team" (click)="closeSubNav()">Team</a>
          <a routerLink="/about/values" (click)="closeSubNav()">Values</a>
          <a routerLink="/about/clients" (click)="closeSubNav()">Clients</a>
          <a routerLink="/about/careers" (click)="closeSubNav()">Careers</a>
          <a class="navBtn" routerLink="/about/contact" (click)="closeSubNav()">Contact</a>
        </div>
      </div>
    </div>

    <div class="fullNav" [@fade]="true" *ngIf="!introActive && isAdmin && !isLogin">
      <div class="col">
        <a routerLink="/admin" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Home</a>
      </div>
      <div class="col">
        <a routerLink="/admin/images" routerLinkActive="active">Images</a>
      </div>
      <div class="col">
        <a routerLink="/admin/portfolio" routerLinkActive="active">Portfolio</a>
      </div>
      <div class="col">
        <a routerLink="/admin/team" routerLinkActive="active">Team</a>
      </div>
      <div class="col">
        <a routerLink="/admin/careers" routerLinkActive="active">Careers</a>
      </div>
    </div>

    <!--
    <a id="navSearch" [@fade]="true" *ngIf="!introActive" (click)="closeSubNav()"><i class="fa fa-search fa-2x"></i></a>
    -->

    <button id="navLogout" class="navBtn" [@fade]="true" *ngIf="!introActive && isAdmin && !isLogin" (click)="logoutAdmin()">Logout</button>

    <button id="mobileNavBtn" [@fade]="true" [class.open]="state === 'active'" *ngIf="!introActive && !isLogin" (click)="toggleNav()">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="mobileNav" [@mobileNavMenu]="true" *ngIf="state === 'active' && !isAdmin">
      <!--
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" (click)="closeNav()">Home</a>
      -->

      <a [class.active]="activePage.indexOf('/services') === 0" (click)="toggleMobileSubNav('Services')">
        <span>Services</span>
        <i class="fa fa-chevron-down" [class.open]="stateServices === 'active'"></i>
      </a>

      <div class="mobileSubNav" [@topDown]="true" *ngIf="stateServices === 'active'">
        <a routerLink="/services/event-planning" routerLinkActive="active" (click)="closeNav()">Event Planning</a>
        <a routerLink="/services/event-production" routerLinkActive="active" (click)="closeNav()">Event Production</a>
        <a routerLink="/services/instructional-design" routerLinkActive="active" (click)="closeNav()">Instructional Design</a>
        <a routerLink="/services/graphic-design" routerLinkActive="active" (click)="closeNav()">Graphic Design</a>
        <a routerLink="/services/video-production" routerLinkActive="active" (click)="closeNav()">Video Production</a>
        <a routerLink="/services/design-development" routerLinkActive="active" (click)="closeNav()">Design &amp; Development</a>
      </div>

      <a [class.active]="activePage.indexOf('/courses') === 0" (click)="toggleMobileSubNav('Courses')">
        <span>Courses</span>
        <i class="fa fa-chevron-down" [class.open]="stateCourses === 'active'"></i>
      </a>

      <div class="mobileSubNav" [@topDown]="true" *ngIf="stateCourses === 'active'">
        <a routerLink="/courses/workshops" routerLinkActive="active" (click)="closeNav()">Workshops</a>
        <!--
        <a routerLink="/courses/e-learning" routerLinkActive="active" (click)="closeNav()">E-Learning</a>
        <a routerLink="/courses/e-books" routerLinkActive="active" (click)="closeNav()">E-Books</a>
        -->
        <a routerLink="/courses/custom-training" routerLinkActive="active" (click)="closeNav()">Custom Training</a>
      </div>

      <a routerLink="/portfolio" routerLinkActive="active" (click)="closeNav(); setPortfolio()">Portfolio</a>

      <a routerLink="/resources/blog" routerLinkActive="active" (click)="closeNav()">Blog</a>

      <!--
      <a [class.active]="activePage.indexOf('/resources') === 0" (click)="toggleMobileSubNav('Resources')">
        <span>Resources</span>
        <i class="fa fa-chevron-down" [class.open]="stateResources === 'active'"></i>
      </a>

      <div class="mobileSubNav" [@topDown]="true" *ngIf="stateResources === 'active'">
        <a routerLink="/resources/blog" routerLinkActive="active" (click)="closeNav()">Blog</a>
        <a routerLink="/resources/podcast" routerLinkActive="active" (click)="closeNav()">Podcast</a>
        <a routerLink="/resources/videos" routerLinkActive="active" (click)="closeNav()">Videos</a>
        <a routerLink="/resources/printables" routerLinkActive="active" (click)="closeNav()">Printables</a>
      </div>
      -->

      <a [class.active]="activePage.indexOf('/about') === 0" (click)="toggleMobileSubNav('About')">
        <span>About</span>
        <i class="fa fa-chevron-down" [class.open]="stateAbout === 'active'"></i>
      </a>

      <div class="mobileSubNav" [@topDown]="true" *ngIf="stateAbout === 'active'">
        <a routerLink="/about/history" routerLinkActive="active" (click)="closeNav()">History</a>
        <a routerLink="/about/team" routerLinkActive="active" (click)="closeNav()">Team</a>
        <a routerLink="/about/values" routerLinkActive="active" (click)="closeNav()">Values</a>
        <a routerLink="/about/clients" routerLinkActive="active" (click)="closeNav()">Clients</a>
        <a routerLink="/about/careers" routerLinkActive="active" (click)="closeNav()">Careers</a>
        <a class="navBtn" routerLink="/about/contact" (click)="closeNav()">Contact</a>
      </div>
    </div>

    <div class="mobileNav" [@mobileNavMenu]="true" *ngIf="state === 'active' && isAdmin && !isLogin">
      <a routerLink="/admin" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" (click)="closeNav()">Home</a>
      <a routerLink="/admin/images" routerLinkActive="active" (click)="closeNav()">Images</a>
      <a routerLink="/admin/portfolio" routerLinkActive="active" (click)="closeNav()">Portfolio</a>
      <a routerLink="/admin/team" routerLinkActive="active" (click)="closeNav()">Team</a>
      <a routerLink="/admin/careers" routerLinkActive="active" (click)="closeNav()">Careers</a>
      <a class="navBtn" (click)="closeNav(); logoutAdmin()">Logout</a>
    </div>
  </nav>
</header>

<div (mouseover)="closeSubNav()">
  <router-outlet></router-outlet>
</div>

<footer [@fade]="true" *ngIf="!introActive" (mouseover)="closeSubNav()">&copy; autom&auml;tik {{ currentYear }}</footer>
